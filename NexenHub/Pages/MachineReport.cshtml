@page "{eqarg?}/{startarg:datetime?}/{endarg:datetime?}"
@model NexenHub.Pages.MachineReportModel
@{
}

<div class="container-fluid">

    <div class="row">
        <div class="col-sm-12 col-xl-6">

            <div class="card">
                <div class="card-body">
                    <form method="post">
                        <div class="input-group mb-3">
                            <span class="input-group-text">Machine</span>

                            <select class="form-select" asp-for="SelectedMachine">
                                <option value=""></option>
                                @{
                                    foreach (var Machine in Model.Machines)
                                    {
                                        <option value="@Machine.EQ_ID">@Machine.EQ_ID - @Machine.Name</option>
                                    }
                                }
                            </select>

                            <span class="input-group-text">From</span>
                            <input type="text" id="myfrom" class="form-control" asp-for="DateFrom" data-provide="datepicker" data-date-end-date="0d">
                            <span class="input-group-text">To</span>
                            <input type="text" id="myTo" class="form-control" asp-for="DateTo" data-provide="datepicker" data-date-end-date="0d">                        

                        </div>

                        <div class="row flex-row-reverse">
                            <div class="col-sm-auto">
                                <button type="submit" class="btn btn-primary" asp-page-handler="generate">Generate report</button>
                            </div>
                        </div>

                    </form>
                </div>

            </div>
        </div>
    </div>
</div>

<script type="text/javascript">

    $('#myfrom').datepicker({
        format: 'yyyy-mm-dd',
        weekStart: '1'
    });

    $('#myTo').datepicker({
        format: 'yyyy-mm-dd',
        weekStart: '1'
    });

</script>

